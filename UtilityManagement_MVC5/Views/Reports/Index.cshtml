@model List<UtilityManagement_MVC5.Models.RevenueReportViewModel>
@{ ViewBag.Title = "Monthly Revenue"; }

<div class="container mt-5">
    <h2 class="text-primary">Monthly Revenue Analysis</h2>
    <p class="text-muted">Financial performance breakdown by utility type.</p>

    <div class="row">
        <div class="col-md-4">
            <div class="card bg-light mb-3 p-3">
                <h5>Total Revenue (All Time)</h5>
                <h3 class="text-success fw-bold">
                    Rs. @Model.Sum(x => x.TotalRevenue).ToString("N2")
                </h3>
            </div>
        </div>
    </div>

    <table class="table table-hover mt-3 shadow-sm">
        <thead class="bg-dark text-white">
            <tr>
                <th>Utility Type</th>
                <th>Year</th>
                <th>Month</th>
                <th>Bills Generated</th>
                <th>Total Revenue</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @if (item.UtilityType == "Electricity")
                        {<span class="badge bg-warning text-dark">Electricity</span> }
                        else if (item.UtilityType == "Water")
                        { <span class="badge bg-info text-white">Water</span> }
                        else
                        { <span class="badge bg-danger">Gas</span>}
                    </td>
                    <td>@item.Year</td>
                    <td>@item.Month</td>
                    <td>@item.TotalBills</td>
                    <td class="fw-bold">Rs. @item.TotalRevenue.ToString("N2")</td>
                </tr>
            }
        </tbody>
    </table>

    <div class="mt-3">
        <a href="@Url.Action("Index", "Home")" class="btn btn-outline-secondary">Back to Dashboard</a>
    </div>
</div>